<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Change Password Admin</title>
	<link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/create.css">
    <link rel="stylesheet" href="css/edit.css">
    <link rel="stylesheet" href="css/table.css">
	<script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
    <style>
        .error {
            color: red;
        }
  </style>
    </style>
</head>
<body>

<div class="wrapper">
    <div class="sidebar">
        <h2>admin</h2>
        <ul>
            <li><a href="nav.html"><i class="fas fa-home"></i>Dashboard</a></li>
            <li><a href="editSchedule.html"><i class="fas fa-list"></i>Schedule List</a></li>
            <li><a href="crew_list.html"><i class="fas fa-list"></i>Crew List</a></li>
            <li><a href="Department.html"><i class="fas fa-project-diagram"></i>Department</a></li>
            <li><a href="admin_changePassword.html"><i class="fas fa-address-card"></i>Change Password</a></li>          
			    <li><a href="#"><i class="fas fa-address-book"></i>Contact</a></li>
			    <li><a href="index.html" onclick="return confirm('Are you sure you want to log out?')"><i class="fas fa-sign-out-alt"></i>Log Out</a></li>
        </ul> 
        <div class="social_media">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
    <div class="main_content">
        <div class="header">Welcome!! Have a nice day.</div>  
        <div class="info">
            <body>
                <button type="button"><a href="createDepartment.html" style="color: rgb(255, 255, 255);"> Add Department</a></button><br>
               <table id="departmentTable">
                   <br><thead>
                       <tr>
                           <th>Number</th>
                           <th>Department</th>
                           <th>Total Staff</th>
                           <th>Action</th>
                       </tr>
                   </thead>
                   <tbody>
                       <!-- Staff rows will be added here dynamically -->
                   </tbody>
               </table>
              
            </body>
            </html>
            <script>// Fetch staff data from server
fetch('getStaff.php')
   .then(response => response.json())
   .then(data => {
       // Create a new row for each department
       data.forEach((department, index) => {
           const row = document.createElement('tr');
           row.innerHTML = `
               <td>${index + 1}</td>
               <td>${staff.department}</td>
               <td>${index.totalStaff}</td>
               <td class="action-column">
                  <button class="edit-button" data-id="${staff.id}">Edit</button>
               </td>
           `;
           document.querySelector('#departmentTable tbody').appendChild(row);
       });
   });

// Add event listener to "Edit" button
document.querySelectorAll('.edit-button').forEach(button => {
   button.addEventListener('click', function() {
       const id = this.getAttribute('data-id');
       // Open form for editing staff member's details
       // ...
   });
});
</script> 